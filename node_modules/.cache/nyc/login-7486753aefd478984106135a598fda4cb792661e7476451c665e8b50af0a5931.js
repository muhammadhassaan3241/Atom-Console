function cov_20fh7tc2wm(){var path="C:\\Users\\a\\Atom-Console-Backend\\src\\services\\login.js";var hash="b2e69a6dfcc82d68c35a99c68ceb8ee328d78b05";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\a\\Atom-Console-Backend\\src\\services\\login.js",statementMap:{"0":{start:{line:1,column:23},end:{line:1,column:54}},"1":{start:{line:2,column:17},end:{line:2,column:42}},"2":{start:{line:3,column:21},end:{line:3,column:41}},"3":{start:{line:4,column:12},end:{line:4,column:35}},"4":{start:{line:5,column:23},end:{line:5,column:58}},"5":{start:{line:6,column:26},end:{line:6,column:64}},"6":{start:{line:8,column:0},end:{line:38,column:2}},"7":{start:{line:10,column:4},end:{line:36,column:5}},"8":{start:{line:11,column:28},end:{line:14,column:7}},"9":{start:{line:15,column:19},end:{line:15,column:66}},"10":{start:{line:16,column:6},end:{line:29,column:7}},"11":{start:{line:17,column:24},end:{line:17,column:43}},"12":{start:{line:18,column:22},end:{line:18,column:73}},"13":{start:{line:19,column:8},end:{line:19,column:27}},"14":{start:{line:20,column:8},end:{line:20,column:26}},"15":{start:{line:21,column:8},end:{line:26,column:10}},"16":{start:{line:28,column:8},end:{line:28,column:71}},"17":{start:{line:31,column:6},end:{line:35,column:8}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:9,column:14},end:{line:9,column:15}},loc:{start:{line:9,column:40},end:{line:37,column:3}},line:9}},branchMap:{"0":{loc:{start:{line:16,column:6},end:{line:29,column:7}},type:"if",locations:[{start:{line:16,column:6},end:{line:29,column:7}},{start:{line:16,column:6},end:{line:29,column:7}}],line:16}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0},f:{"0":0},b:{"0":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"b2e69a6dfcc82d68c35a99c68ceb8ee328d78b05"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_20fh7tc2wm=function(){return actualCoverage;};}return actualCoverage;}cov_20fh7tc2wm();const CrudRepository=(cov_20fh7tc2wm().s[0]++,require("../repositories/crud"));const{User}=(cov_20fh7tc2wm().s[1]++,require("../models/user"));const crudInstance=(cov_20fh7tc2wm().s[2]++,new CrudRepository());const jwt=(cov_20fh7tc2wm().s[3]++,require("jsonwebtoken"));const{statusCode}=(cov_20fh7tc2wm().s[4]++,require("../constants/header-code"));const{headerMessage}=(cov_20fh7tc2wm().s[5]++,require("../constants/header-message"));cov_20fh7tc2wm().s[6]++;module.exports={loginAdmin:async(body,callback)=>{cov_20fh7tc2wm().f[0]++;cov_20fh7tc2wm().s[7]++;try{const filteredQuery=(cov_20fh7tc2wm().s[8]++,{where:{email:body.email},attributes:{exclude:["password"]}});const user=(cov_20fh7tc2wm().s[9]++,await crudInstance.findOne(User,filteredQuery));cov_20fh7tc2wm().s[10]++;if(user!==null&user!==undefined){cov_20fh7tc2wm().b[0][0]++;const options=(cov_20fh7tc2wm().s[11]++,{expiresIn:"1h"});const token=(cov_20fh7tc2wm().s[12]++,jwt.sign(body,process.env.JWT_SECRET_KEY,options));cov_20fh7tc2wm().s[13]++;user.token=token;cov_20fh7tc2wm().s[14]++;await user.save();cov_20fh7tc2wm().s[15]++;return callback(user,statusCode.success,"1","User Successfully Logged In");}else{cov_20fh7tc2wm().b[0][1]++;cov_20fh7tc2wm().s[16]++;return callback(user,statusCode.notFound,"0","Login Error");}}catch(error){cov_20fh7tc2wm().s[17]++;return{code:statusCode.someThingWentWrong,status:"0",message:headerMessage.someThingWentWrong};}}};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMjBmaDd0YzJ3bSIsImFjdHVhbENvdmVyYWdlIiwiQ3J1ZFJlcG9zaXRvcnkiLCJzIiwicmVxdWlyZSIsIlVzZXIiLCJjcnVkSW5zdGFuY2UiLCJqd3QiLCJzdGF0dXNDb2RlIiwiaGVhZGVyTWVzc2FnZSIsIm1vZHVsZSIsImV4cG9ydHMiLCJsb2dpbkFkbWluIiwiYm9keSIsImNhbGxiYWNrIiwiZiIsImZpbHRlcmVkUXVlcnkiLCJ3aGVyZSIsImVtYWlsIiwiYXR0cmlidXRlcyIsImV4Y2x1ZGUiLCJ1c2VyIiwiZmluZE9uZSIsInVuZGVmaW5lZCIsImIiLCJvcHRpb25zIiwiZXhwaXJlc0luIiwidG9rZW4iLCJzaWduIiwicHJvY2VzcyIsImVudiIsIkpXVF9TRUNSRVRfS0VZIiwic2F2ZSIsInN1Y2Nlc3MiLCJub3RGb3VuZCIsImVycm9yIiwiY29kZSIsInNvbWVUaGluZ1dlbnRXcm9uZyIsInN0YXR1cyIsIm1lc3NhZ2UiXSwic291cmNlcyI6WyJsb2dpbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBDcnVkUmVwb3NpdG9yeSA9IHJlcXVpcmUoXCIuLi9yZXBvc2l0b3JpZXMvY3J1ZFwiKTtcclxuY29uc3QgeyBVc2VyIH0gPSByZXF1aXJlKFwiLi4vbW9kZWxzL3VzZXJcIik7XHJcbmNvbnN0IGNydWRJbnN0YW5jZSA9IG5ldyBDcnVkUmVwb3NpdG9yeSgpO1xyXG5jb25zdCBqd3QgPSByZXF1aXJlKFwianNvbndlYnRva2VuXCIpO1xyXG5jb25zdCB7IHN0YXR1c0NvZGUgfSA9IHJlcXVpcmUoXCIuLi9jb25zdGFudHMvaGVhZGVyLWNvZGVcIik7XHJcbmNvbnN0IHsgaGVhZGVyTWVzc2FnZSB9ID0gcmVxdWlyZShcIi4uL2NvbnN0YW50cy9oZWFkZXItbWVzc2FnZVwiKTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG4gIGxvZ2luQWRtaW46IGFzeW5jIChib2R5LCBjYWxsYmFjaykgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgZmlsdGVyZWRRdWVyeSA9IHtcclxuICAgICAgICB3aGVyZTogeyBlbWFpbDogYm9keS5lbWFpbCB9LFxyXG4gICAgICAgIGF0dHJpYnV0ZXM6IHsgZXhjbHVkZTogW1wicGFzc3dvcmRcIl0gfSxcclxuICAgICAgfTtcclxuICAgICAgY29uc3QgdXNlciA9IGF3YWl0IGNydWRJbnN0YW5jZS5maW5kT25lKFVzZXIsIGZpbHRlcmVkUXVlcnkpO1xyXG4gICAgICBpZiAoKHVzZXIgIT09IG51bGwpICYgKHVzZXIgIT09IHVuZGVmaW5lZCkpIHtcclxuICAgICAgICBjb25zdCBvcHRpb25zID0geyBleHBpcmVzSW46IFwiMWhcIiB9O1xyXG4gICAgICAgIGNvbnN0IHRva2VuID0gand0LnNpZ24oYm9keSwgcHJvY2Vzcy5lbnYuSldUX1NFQ1JFVF9LRVksIG9wdGlvbnMpO1xyXG4gICAgICAgIHVzZXIudG9rZW4gPSB0b2tlbjtcclxuICAgICAgICBhd2FpdCB1c2VyLnNhdmUoKTtcclxuICAgICAgICByZXR1cm4gY2FsbGJhY2soXHJcbiAgICAgICAgICB1c2VyLFxyXG4gICAgICAgICAgc3RhdHVzQ29kZS5zdWNjZXNzLFxyXG4gICAgICAgICAgXCIxXCIsXHJcbiAgICAgICAgICBcIlVzZXIgU3VjY2Vzc2Z1bGx5IExvZ2dlZCBJblwiXHJcbiAgICAgICAgKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZXR1cm4gY2FsbGJhY2sodXNlciwgc3RhdHVzQ29kZS5ub3RGb3VuZCwgXCIwXCIsIFwiTG9naW4gRXJyb3JcIik7XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgY29kZTogc3RhdHVzQ29kZS5zb21lVGhpbmdXZW50V3JvbmcsXHJcbiAgICAgICAgc3RhdHVzOiBcIjBcIixcclxuICAgICAgICBtZXNzYWdlOiBoZWFkZXJNZXNzYWdlLnNvbWVUaGluZ1dlbnRXcm9uZyxcclxuICAgICAgfTtc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