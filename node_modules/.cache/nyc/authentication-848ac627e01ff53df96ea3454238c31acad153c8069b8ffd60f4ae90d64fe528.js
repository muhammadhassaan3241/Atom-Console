function cov_dshlxcgcn(){var path="C:\\Users\\a\\Atom-Console-Backend\\src\\helpers\\authentication.js";var hash="5a62b4036344d57122d0b9af22dfaefde8f31b33";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\a\\Atom-Console-Backend\\src\\helpers\\authentication.js",statementMap:{"0":{start:{line:1,column:15},end:{line:1,column:32}},"1":{start:{line:2,column:17},end:{line:2,column:42}},"2":{start:{line:4,column:33},end:{line:32,column:1}},"3":{start:{line:5,column:2},end:{line:31,column:3}},"4":{start:{line:6,column:4},end:{line:28,column:6}},"5":{start:{line:8,column:8},end:{line:26,column:17}},"6":{start:{line:10,column:32},end:{line:13,column:15}},"7":{start:{line:14,column:14},end:{line:19,column:25}},"8":{start:{line:22,column:14},end:{line:25,column:17}},"9":{start:{line:30,column:4},end:{line:30,column:11}},"10":{start:{line:34,column:0},end:{line:36,column:2}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:4,column:33},end:{line:4,column:34}},loc:{start:{line:4,column:68},end:{line:32,column:1}},line:4},"1":{name:"(anonymous_1)",decl:{start:{line:7,column:6},end:{line:7,column:7}},loc:{start:{line:7,column:16},end:{line:27,column:7}},line:7},"2":{name:"(anonymous_2)",decl:{start:{line:9,column:13},end:{line:9,column:14}},loc:{start:{line:9,column:25},end:{line:20,column:13}},line:9},"3":{name:"(anonymous_3)",decl:{start:{line:21,column:13},end:{line:21,column:14}},loc:{start:{line:21,column:25},end:{line:26,column:13}},line:21}},branchMap:{"0":{loc:{start:{line:8,column:8},end:{line:26,column:16}},type:"cond-expr",locations:[{start:{line:9,column:12},end:{line:20,column:16}},{start:{line:21,column:12},end:{line:26,column:16}}],line:8},"1":{loc:{start:{line:14,column:14},end:{line:19,column:24}},type:"cond-expr",locations:[{start:{line:15,column:18},end:{line:18,column:20}},{start:{line:19,column:18},end:{line:19,column:24}}],line:14}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0},f:{"0":0,"1":0,"2":0,"3":0},b:{"0":[0,0],"1":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"5a62b4036344d57122d0b9af22dfaefde8f31b33"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_dshlxcgcn=function(){return actualCoverage;};}return actualCoverage;}cov_dshlxcgcn();const bcrypt=(cov_dshlxcgcn().s[0]++,require("bcrypt"));const{User}=(cov_dshlxcgcn().s[1]++,require("../models/user"));cov_dshlxcgcn().s[2]++;const authenticationMiddleware=async(request,response,next)=>{cov_dshlxcgcn().f[0]++;cov_dshlxcgcn().s[3]++;try{cov_dshlxcgcn().s[4]++;await User.findOne({where:{email:request.body.email}}).then(user=>{cov_dshlxcgcn().f[1]++;cov_dshlxcgcn().s[5]++;user!==null?(cov_dshlxcgcn().b[0][0]++,(async()=>{cov_dshlxcgcn().f[2]++;const isMatched=(cov_dshlxcgcn().s[6]++,await bcrypt.compare(request.body.password,user.password));cov_dshlxcgcn().s[7]++;!isMatched?(cov_dshlxcgcn().b[1][0]++,response.status(400).send({status:"0",message:"Invalid Credentials"})):(cov_dshlxcgcn().b[1][1]++,next());})()):(cov_dshlxcgcn().b[0][1]++,(async()=>{cov_dshlxcgcn().f[3]++;cov_dshlxcgcn().s[8]++;response.status(400).send({status:"0",message:"Invalid Credentials"});})());});}catch(error){cov_dshlxcgcn().s[9]++;return;}};cov_dshlxcgcn().s[10]++;module.exports={authenticationMiddleware:authenticationMiddleware};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfZHNobHhjZ2NuIiwiYWN0dWFsQ292ZXJhZ2UiLCJiY3J5cHQiLCJzIiwicmVxdWlyZSIsIlVzZXIiLCJhdXRoZW50aWNhdGlvbk1pZGRsZXdhcmUiLCJyZXF1ZXN0IiwicmVzcG9uc2UiLCJuZXh0IiwiZiIsImZpbmRPbmUiLCJ3aGVyZSIsImVtYWlsIiwiYm9keSIsInRoZW4iLCJ1c2VyIiwiYiIsImlzTWF0Y2hlZCIsImNvbXBhcmUiLCJwYXNzd29yZCIsInN0YXR1cyIsInNlbmQiLCJtZXNzYWdlIiwiZXJyb3IiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZXMiOlsiYXV0aGVudGljYXRpb24uanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgYmNyeXB0ID0gcmVxdWlyZShcImJjcnlwdFwiKTtcclxuY29uc3QgeyBVc2VyIH0gPSByZXF1aXJlKFwiLi4vbW9kZWxzL3VzZXJcIik7XHJcblxyXG5jb25zdCBhdXRoZW50aWNhdGlvbk1pZGRsZXdhcmUgPSBhc3luYyAocmVxdWVzdCwgcmVzcG9uc2UsIG5leHQpID0+IHtcclxuICB0cnkge1xyXG4gICAgYXdhaXQgVXNlci5maW5kT25lKHsgd2hlcmU6IHsgZW1haWw6IHJlcXVlc3QuYm9keS5lbWFpbCB9IH0pLnRoZW4oXHJcbiAgICAgICh1c2VyKSA9PiB7XHJcbiAgICAgICAgdXNlciAhPT0gbnVsbFxyXG4gICAgICAgICAgPyAoYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICAgIGNvbnN0IGlzTWF0Y2hlZCA9IGF3YWl0IGJjcnlwdC5jb21wYXJlKFxyXG4gICAgICAgICAgICAgICAgcmVxdWVzdC5ib2R5LnBhc3N3b3JkLFxyXG4gICAgICAgICAgICAgICAgdXNlci5wYXNzd29yZFxyXG4gICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgIWlzTWF0Y2hlZFxyXG4gICAgICAgICAgICAgICAgPyByZXNwb25zZS5zdGF0dXMoNDAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IFwiMFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiSW52YWxpZCBDcmVkZW50aWFsc1wiLFxyXG4gICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgOiBuZXh0KCk7XHJcbiAgICAgICAgICAgIH0pKClcclxuICAgICAgICAgIDogKGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgICByZXNwb25zZS5zdGF0dXMoNDAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIHN0YXR1czogXCIwXCIsXHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkludmFsaWQgQ3JlZGVudGlhbHNcIixcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSkoKTtcclxuICAgICAgfVxyXG4gICAgKTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxufTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG4gIGF1dGhlbnRpY2F0aW9uTWlkZGxld2FyZTogYXV0aGVudGljYXRpb25NaWRkbGV3YXJlLFxyXG59O1xyXG4iXSwibWFwcGluZ3MiOiJ3d0VBZVk7QUFBQUEsYUFBQSxTQUFBQSxDQUFBLFNBQUFDLGNBQUEsV0FBQUEsY0FBQSxFQUFBRCxhQUFBLEdBZlosS0FBTSxDQUFBRSxNQUFNLEVBQUFGLGFBQUEsR0FBQUcsQ0FBQSxNQUFHQyxPQUFPLENBQUMsUUFBUSxDQUFDLEVBQ2hDLEtBQU0sQ0FBRUMsSUFBSyxDQUFDLEVBQUFMLGFBQUEsR0FBQUcsQ0FBQSxNQUFHQyxPQUFPLENBQUMsZ0JBQWdCLENBQUMsRUFBQ0osYUFBQSxHQUFBRyxDQUFBLE1BRTNDLEtBQU0sQ0FBQUcsd0JBQXdCLENBQUcsS0FBQUEsQ0FBT0MsT0FBTyxDQUFFQyxRQUFRLENBQUVDLElBQUksR0FBSyxDQUFBVCxhQUFBLEdBQUFVLENBQUEsTUFBQVYsYUFBQSxHQUFBRyxDQUFBLE1BQ2xFLEdBQUksQ0FBQUgsYUFBQSxHQUFBRyxDQUFBLE1BQ0YsS0FBTSxDQUFBRSxJQUFJLENBQUNNLE9BQU8sQ0FBQyxDQUFFQyxLQUFLLENBQUUsQ0FBRUMsS0FBSyxDQUFFTixPQUFPLENBQUNPLElBQUksQ0FBQ0QsS0FBTSxDQUFFLENBQUMsQ0FBQyxDQUFDRSxJQUFJLENBQzlEQyxJQUFJLEVBQUssQ0FBQWhCLGFBQUEsR0FBQVUsQ0FBQSxNQUFBVixhQUFBLEdBQUFHLENBQUEsTUFDUmEsSUFBSSxHQUFLLElBQUksRUFBQWhCLGFBQUEsR0FBQWlCLENBQUEsU0FDVCxDQUFDLFNBQVksQ0FBQWpCLGFBQUEsR0FBQVUsQ0FBQSxNQUNYLEtBQU0sQ0FBQVEsU0FBUyxFQUFBbEIsYUFBQSxHQUFBRyxDQUFBLE1BQUcsS0FBTSxDQUFBRCxNQUFNLENBQUNpQixPQUFPLENBQ3BDWixPQUFPLENBQUNPLElBQUksQ0FBQ00sUUFBUSxDQUNyQkosSUFBSSxDQUFDSSxRQUFRLENBQ2QsRUFBQ3BCLGFBQUEsR0FBQUcsQ0FBQSxNQUNGLENBQUNlLFNBQVMsRUFBQWxCLGFBQUEsR0FBQWlCLENBQUEsU0FDTlQsUUFBUSxDQUFDYSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQyxDQUN4QkQsTUFBTSxDQUFFLEdBQUcsQ0FDWEUsT0FBTyxDQUFFLHFCQUNYLENBQUMsQ0FBQyxHQUFBdkIsYUFBQSxHQUFBaUIsQ0FBQSxTQUNGUixJQUFJLEVBQUUsRUFDWixDQUFDLEdBQUcsR0FBQVQsYUFBQSxHQUFBaUIsQ0FBQSxTQUNKLENBQUMsU0FBWSxDQUFBakIsYUFBQSxHQUFBVSxDQUFBLE1BQUFWLGFBQUEsR0FBQUcsQ0FBQSxNQUNYSyxRQUFRLENBQUNhLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDLENBQ3hCRCxNQUFNLENBQUUsR0FBRyxDQUNYRSxPQUFPLENBQUUscUJBQ1gsQ0FBQyxDQUFDLENBQ0osQ0FBQyxHQUFHLEVBQ1YsQ0FBQyxDQUNGLENBQ0gsQ0FBRSxNQUFPQyxLQUFLLENBQUUsQ0FBQXhCLGFBQUEsR0FBQUcsQ0FBQSxNQUNkLE9BQ0YsQ0FDRixDQUFDLENBQUNILGFBQUEsR0FBQUcsQ0FBQSxPQUVGc0IsTUFBTSxDQUFDQyxPQUFPLENBQUcsQ0FDZnBCLHdCQUF3QixDQUFFQSx3QkFDNUIsQ0FBQyJ9